@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  body {
    @apply bg-gray-50 text-surface-900 dark:bg-surface-900 dark:text-surface-50;
  }

  .btn {
    @apply inline-flex items-center justify-center rounded-lg px-4 py-2 font-medium transition-colors duration-200;
  }

  .btn-primary {
    @apply bg-primary text-white hover:bg-primary-dark;
  }

  .btn-outline {
    @apply border border-surface-200 bg-white text-surface-700 hover:bg-surface-50 dark:border-surface-700 dark:bg-surface-800 dark:text-surface-300 dark:hover:bg-surface-700;
  }

  .input {
    @apply w-full rounded-lg border border-surface-200 bg-white px-3 py-2 focus:border-primary focus:outline-none focus:ring-1 focus:ring-primary dark:border-surface-700 dark:bg-surface-800;
  }
}

@layer components {
  /* N8N-style Canvas */
  .n8n-canvas {
    @apply bg-n8n-canvas dark:bg-n8n-canvasDark transition-colors duration-300;
    background-size: 20px 20px;
    background-image: 
      linear-gradient(to right, rgba(133, 150, 180, 0.1) 1px, transparent 1px),
      linear-gradient(to bottom, rgba(133, 150, 180, 0.1) 1px, transparent 1px);
  }

  .dark .n8n-canvas {
    background-image: 
      linear-gradient(to right, rgba(133, 150, 180, 0.07) 1px, transparent 1px),
      linear-gradient(to bottom, rgba(133, 150, 180, 0.07) 1px, transparent 1px);
  }

  /* N8N-style Node */
  .n8n-node {
    @apply bg-n8n-node dark:bg-n8n-nodeDark rounded-n8n shadow-n8n-node dark:shadow-n8n-node-dark transition-all duration-200 border border-surface-200 dark:border-surface-700 overflow-hidden;
  }

  .n8n-node-selected {
    @apply shadow-n8n-node-selected dark:shadow-n8n-node-selected scale-[1.01];
  }

  .n8n-node-header {
    @apply py-2 px-3 flex items-center justify-between border-b border-surface-200 dark:border-surface-700;
  }

  /* N8N-style Ports */
  .n8n-port-container {
    @apply relative my-1 h-7 flex items-center;
  }

  .n8n-port {
    @apply w-4 h-4 rounded-full border-2 border-surface-300 dark:border-surface-600 bg-n8n-port dark:bg-n8n-portDark transition-colors duration-200;
  }

  .n8n-port-input {
    @apply absolute -left-2;
  }

  .n8n-port-output {
    @apply absolute -right-2;
  }

  .n8n-port-hover {
    @apply border-n8n-portHover bg-n8n-portHover;
  }

  .n8n-port-active {
    @apply border-n8n-portActive bg-n8n-portActive;
  }

  .n8n-port-connected {
    @apply border-primary bg-primary-light;
  }

  .n8n-port-valid {
    @apply border-green-500 bg-green-400 animate-pulse;
  }

  /* N8N-style Connection lines */
  .n8n-connection {
    @apply transition-all duration-200 stroke-2;
  }

  .n8n-connection-path {
    @apply dark:stroke-n8n-connectionDark;
  }

  .n8n-connection-selected {
    @apply stroke-primary-dark filter drop-shadow;
  }

  .n8n-connection-label {
    @apply bg-white dark:bg-surface-800 text-xs px-2 py-0.5 rounded-md border border-surface-200 dark:border-surface-700 shadow-sm whitespace-nowrap text-center;
  }

  /* N8N-style Control panels */
  .n8n-panel {
    @apply bg-white dark:bg-surface-800 border-surface-200 dark:border-surface-700 shadow-md transition-all duration-200;
  }

  .n8n-panel-header {
    @apply border-b border-surface-200 dark:border-surface-700 p-3 flex items-center justify-between;
  }

  .n8n-panel-body {
    @apply p-3 overflow-y-auto;
  }

  .n8n-panel-tab {
    @apply py-3 px-4 text-sm font-medium flex-1 border-b-2 transition-colors duration-200;
  }

  .n8n-panel-tab-active {
    @apply border-primary text-primary;
  }

  .n8n-panel-tab-inactive {
    @apply border-transparent text-surface-600 hover:text-surface-800 dark:text-surface-400 dark:hover:text-surface-200;
  }
}